<template>
  <div style="position: relative; height: 100%">
    <u-chart-overlay :fetching="fetching" :no-data="wanInterfaces.length === 0 && lanInterfaces.length === 0" />
    <div class="network-layout-widget">
      <table cellspacing="0" cellpadding="0" height="100%" width="100%">
        <tr style="vertical-align: bottom">
          <td class="network-type-label pa-2">{{ $vuntangle.$t('wan') }}</td>
          <td>
            <div class="network-type">
              <div class="network-interfaces network-interfaces--top">
                <network-interface
                  v-for="wanInterface in wanInterfaces"
                  :key="`wan-interface-${wanInterface.interfaceId}`"
                  :network-interface="wanInterface"
                />
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td colspan="2" class="network-type-separator" />
        </tr>
        <tr style="vertical-align: top">
          <td class="network-type-label pa-2">{{ $vuntangle.$t('lan') }}</td>
          <td>
            <div class="network-type">
              <div class="network-interfaces network-interfaces--bottom">
                <network-interface
                  v-for="lanInterface in lanInterfaces"
                  :key="`lan-interface-${lanInterface.interfaceId}`"
                  :network-interface="lanInterface"
                />
              </div>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
</template>
<script>
  import NetworkInterface from './NetworkInterface'

  export default {
    components: { NetworkInterface },
    props: {
      fetching: { type: Boolean, required: true },
      wanInterfaces: { type: Array, default: () => [] },
      lanInterfaces: { type: Array, default: () => [] },
    },
  }
</script>
<style lang="scss">
  @import '../../scss/variables';

  .network-layout-widget {
    height: 100%;
    overflow-x: auto;

    .network-type-label {
      width: 25px;
      vertical-align: top;
      color: $utGreen;
      font-size: 12px;
      font-weight: 600;
    }

    .network-type {
      height: 100%;
      display: flex;
      flex: 1;
    }

    .network-interfaces {
      display: flex;
      flex: 1;
      justify-content: center;

      &--top {
        align-items: flex-end;
        padding-bottom: 20px;
      }

      &--bottom {
        align-items: flex-start;
        padding-top: 20px;
      }
    }

    .network-type-separator {
      height: 5px;
      background: $utGreen;
      border-radius: 10px;
    }
  }
</style>
