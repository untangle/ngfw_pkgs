<!--
CellWithTooltip

Renders a icon and/or text inside a row cell with a tooltip
The following tooltip params, defined via column definition, are expected:
- tooltip  // tooltip text
- top
- bottom
- left
- right
The following icon and/or text params, defined via column definition, are expected:
- disabled
- hidden
- label
- icon
- class
- color
- small
- xSmall

e.g.
cellRenderer: 'CellWithTooltip',
cellRendererParams: params => {
  return {
    tooltip: params.value,
    top: true,
    icon: 'mdi-circle',
    color: params.value ? 'red' : 'primary',
    xSmall: true,
  }
},

Each button emits a click event captured inside the column def
-->

<template>
  <v-tooltip
    v-if="!params.hidden"
    :top="params.top"
    :bottom="params.bottom"
    :left="params.left"
    :right="params.right"
    transition="none"
  >
    <template #activator="{ on, attrs }">
      <v-icon
        v-if="params.icon"
        :disabled="params.disabled"
        :small="params.small"
        :x-small="params.xSmall"
        :color="params.color"
        :class="params.class"
        v-bind="attrs"
        v-on="on"
        >{{ params.icon }}</v-icon
      >
      <span
        v-if="params.label"
        :disabled="params.disabled"
        :small="params.small"
        :x-small="params.xSmall"
        :color="params.color"
        :class="params.class"
        v-bind="attrs"
        v-on="on"
        >{{ params.label }}</span
      >
    </template>
    <span v-if="params.tooltip">{{ params.tooltip }}</span>
  </v-tooltip>
</template>
<script>
  import Vue from 'vue'
  import { VIcon, VTooltip } from 'vuetify/lib'

  export default Vue.extend({
    components: { VIcon, VTooltip },
  })
</script>
