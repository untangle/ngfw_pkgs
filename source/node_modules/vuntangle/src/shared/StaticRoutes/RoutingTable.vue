<template>
  <div class="d-flex flex-grow-1">
    <u-grid
      id="routing-table"
      style="min-height: 200px"
      :no-data-message="$vuntangle.$t('no_data_available')"
      :column-defs="columnDefs"
      :row-data="routingTableData"
      :custom-grid-options="{ suppressRowClickSelection: true }"
      toolbar="hidden"
      :fetching="routingTableData.length === 0"
    />
  </div>
</template>

<script>
  export default {
    data() {
      return {
        routingTableData: [],
        columnDefs: [
          { headerName: this.$i18n.t('destination'), field: 'destination' },
          { headerName: this.$i18n.t('next_hop'), field: 'nextHop' },
          { headerName: this.$i18n.t('metric'), field: 'metric' },
        ],
      }
    },
    async mounted() {
      await this.$emit('fetchRoutingTable', result => {
        this.routingTableData = result
      })
    },
  }
</script>
