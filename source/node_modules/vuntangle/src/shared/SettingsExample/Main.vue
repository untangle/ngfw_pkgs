<!-- Shared Component sample used to manipulate some settings -->

<template>
  <v-container>
    <!--
      add a validation observer if the component requires validation
      and expose the `valid` slot prop
    -->
    <ValidationObserver ref="obs" v-slot="{ valid }">
      <!--
        add the actions slot for buttons,
        and pass the changed `settingsCopy`, plus `valid` and `dirty` flags
        so the elements in the parent have access to them
      -->
      <slot name="actions" :new-settings="settingsCopy" :is-valid="valid" :is-dirty="isDirty" />

      <!-- fill in the actual component UI -->
      <some-component v-model="settings.prop1" />
      <another-component :data="settings.prop2" />
    </ValidationObserver>
  </v-container>
</template>
<script>
  import settingsMixin from '../settingsMixin'
  import defaults from './defaults'
  import schema from './schema'

  import SomeComponent from './a'
  import AnotherComponent from './b'

  export default {
    components: {
      SomeComponent,
      AnotherComponent,
    },

    // add the generic settings mixin
    mixins: [settingsMixin],

    // attach `defaults` and `schema` to the component $options as no reactive data
    defaults,
    schema,

    // add the rest of the specific component options api settings
  }
</script>
