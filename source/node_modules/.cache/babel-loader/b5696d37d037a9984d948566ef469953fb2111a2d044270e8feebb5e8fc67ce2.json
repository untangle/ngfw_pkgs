{"ast":null,"code":"import _regeneratorRuntime from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { VContainer, VSpacer, VSwitch, VCard } from 'vuetify/lib';\nimport settingsMixin from '../settingsMixin';\nimport defaults from './defaults';\nexport default {\n  components: {\n    VContainer: VContainer,\n    VSpacer: VSpacer,\n    VSwitch: VSwitch,\n    VCard: VCard\n  },\n  mixins: [settingsMixin],\n  defaults: defaults,\n  data: function data() {\n    return {\n      limits: [{\n        key: 'source_host_max_sessions',\n        fields: ['source_sessions_max_tcp', 'source_sessions_max_udp', 'source_sessions_max_icmp', 'source_sessions_max_all']\n      }, {\n        key: 'destination_host_max_sessions',\n        fields: ['dest_sessions_max_tcp', 'dest_sessions_max_udp', 'dest_sessions_max_icmp', 'dest_sessions_max_all']\n      }\n      // hide New sessions per second according to CD-5951\n      // {\n      //   key: 'new_sessions_per_second_one_host',\n      //   fields: ['new_sessions_per_second_tcp', 'new_sessions_per_second_udp', 'new_sessions_per_second_icmp'],\n      // },\n      ]\n    };\n  },\n  methods: {\n    // method called from parent component upon save to validate input data\n    validate: function validate() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var isValid;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.$refs.obs.validate();\n            case 2:\n              isValid = _context.sent;\n              return _context.abrupt(\"return\", isValid);\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["VContainer","VSpacer","VSwitch","VCard","settingsMixin","defaults","components","mixins","data","limits","key","fields","methods","validate","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","isValid","wrap","_callee$","_context","prev","next","$refs","obs","sent","abrupt","stop"],"sources":["node_modules/vuntangle/src/shared/SettingsDenialOfService/Main.vue"],"sourcesContent":["<template>\n  <v-container fluid :class=\"`${classicView ? 'pa-4 ' : ''}shared-cmp ${disabled ? 'disabled' : ''}`\">\n    <div class=\"d-flex align-center\">\n      <h2 class=\"font-weight-light\">{{ $vuntangle.$t('denial_of_service_prevention') }}</h2>\n      <v-spacer />\n      <slot name=\"actions\" :new-settings=\"settingsCopy\" :is-dirty=\"isDirty\" :defaults=\"$options.defaults\"></slot>\n    </div>\n    <v-divider class=\"my-2\" />\n\n    <div v-if=\"!!$slots['extra-fields']\">\n      <slot name=\"extra-fields\" />\n    </div>\n\n    <div>\n      <v-switch\n        v-model=\"settingsCopy.enabled\"\n        :disabled=\"disabled\"\n        class=\"body-2 mb-4\"\n        dense\n        inset\n        hide-details\n        :label=\"$t('denial_of_service_toggle', [settingsCopy.enabled ? $t('enabled') : $t('disabled')])\"\n      />\n    </div>\n\n    <h3>{{ $vuntangle.$t('session_limits') }}</h3>\n    <p>{{ $vuntangle.$t('session_limits_description') }}</p>\n\n    <ValidationObserver ref=\"obs\">\n      <v-card flat class=\"mt-0\">\n        <table>\n          <thead>\n            <tr>\n              <th></th>\n              <th>{{ $vuntangle.$t('tcp_sessions') }}</th>\n              <th>{{ $vuntangle.$t('udp_sessions') }}</th>\n              <th>{{ $vuntangle.$t('icmp_sessions') }}</th>\n              <th>{{ $vuntangle.$t('all_sessions') }}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"limit in limits\" :key=\"limit.key\">\n              <td class=\"pr-4\">{{ $vuntangle.$t(limit.key) }}</td>\n              <td v-for=\"field in limit.fields\" :key=\"field\" class=\"pa-1\">\n                <ValidationProvider v-slot=\"{ errors }\" rules=\"numeric|integer|min_value: 0|max_value: 100000\">\n                  <u-text-field\n                    v-if=\"field\"\n                    v-model.number=\"settingsCopy[field]\"\n                    :error-messages=\"errors\"\n                    :placeholder=\"$options.defaults[field].toString()\"\n                    style=\"max-width: 140px\"\n                  >\n                    <template v-if=\"errors.length\" #append><u-errors-tooltip :errors=\"errors\" /></template>\n                  </u-text-field>\n                </ValidationProvider>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </v-card>\n\n      <h3 class=\"mt-8\">{{ $vuntangle.$t('block_actions') }}</h3>\n      <div class=\"d-flex align-center\">\n        <span>{{ $vuntangle.$t('block_duration') }}</span>\n        <!-- max block duration set to 1 day -->\n        <ValidationProvider v-slot=\"{ errors }\" rules=\"numeric|integer|min_value: 0|max_value: 86400\">\n          <u-text-field\n            v-model.number=\"settingsCopy.block_duration\"\n            class=\"mx-4\"\n            :error-messages=\"errors\"\n            :suffix=\"$vuntangle.$t('seconds')\"\n            :placeholder=\"$options.defaults.block_duration.toString()\"\n            style=\"max-width: 200px\"\n          >\n            <template v-if=\"errors.length\" #append><u-errors-tooltip :errors=\"errors\" /></template>\n          </u-text-field>\n        </ValidationProvider>\n        <u-checkbox v-model=\"settingsCopy.remove_active_sessions\" :label=\"$vuntangle.$t('remove_active_sessions')\" />\n      </div>\n    </ValidationObserver>\n  </v-container>\n</template>\n<script>\n  import { VContainer, VSpacer, VSwitch, VCard } from 'vuetify/lib'\n  import settingsMixin from '../settingsMixin'\n  import defaults from './defaults'\n\n  export default {\n    components: { VContainer, VSpacer, VSwitch, VCard },\n    mixins: [settingsMixin],\n    defaults,\n\n    data() {\n      return {\n        limits: [\n          {\n            key: 'source_host_max_sessions',\n            fields: [\n              'source_sessions_max_tcp',\n              'source_sessions_max_udp',\n              'source_sessions_max_icmp',\n              'source_sessions_max_all',\n            ],\n          },\n          {\n            key: 'destination_host_max_sessions',\n            fields: [\n              'dest_sessions_max_tcp',\n              'dest_sessions_max_udp',\n              'dest_sessions_max_icmp',\n              'dest_sessions_max_all',\n            ],\n          },\n          // hide New sessions per second according to CD-5951\n          // {\n          //   key: 'new_sessions_per_second_one_host',\n          //   fields: ['new_sessions_per_second_tcp', 'new_sessions_per_second_udp', 'new_sessions_per_second_icmp'],\n          // },\n        ],\n      }\n    },\n    methods: {\n      // method called from parent component upon save to validate input data\n      async validate() {\n        const isValid = await this.$refs.obs.validate()\n        return isValid\n      },\n    },\n  }\n</script>\n"],"mappings":";;AAmFA,SAAAA,UAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,KAAA;AACA,OAAAC,aAAA;AACA,OAAAC,QAAA;AAEA;EACAC,UAAA;IAAAN,UAAA,EAAAA,UAAA;IAAAC,OAAA,EAAAA,OAAA;IAAAC,OAAA,EAAAA,OAAA;IAAAC,KAAA,EAAAA;EAAA;EACAI,MAAA,GAAAH,aAAA;EACAC,QAAA,EAAAA,QAAA;EAEAG,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA,GACA;QACAC,GAAA;QACAC,MAAA,GACA,2BACA,2BACA,4BACA;MAEA,GACA;QACAD,GAAA;QACAC,MAAA,GACA,yBACA,yBACA,0BACA;MAEA;MACA;MACA;MACA;MACA;MACA;MAAA;IAEA;EACA;EACAC,OAAA;IACA;IACAC,QAAA,WAAAA,SAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,OAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACAV,KAAA,CAAAW,KAAA,CAAAC,GAAA,CAAAb,QAAA;YAAA;cAAAM,OAAA,GAAAG,QAAA,CAAAK,IAAA;cAAA,OAAAL,QAAA,CAAAM,MAAA,WACAT,OAAA;YAAA;YAAA;cAAA,OAAAG,QAAA,CAAAO,IAAA;UAAA;QAAA,GAAAX,OAAA;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}