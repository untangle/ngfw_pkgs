{"ast":null,"code":"import _regeneratorRuntime from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nimport { VSpacer, VDivider, VCard, VDataTable, VBtn, VIcon } from 'vuetify/lib';\nimport settingsMixin from '../settingsMixin';\nimport InterfaceTrackerEdit from './InterfaceTrackerEdit.vue';\nexport default {\n  components: {\n    VSpacer: VSpacer,\n    VDivider: VDivider,\n    VCard: VCard,\n    VDataTable: VDataTable,\n    VBtn: VBtn,\n    VIcon: VIcon\n  },\n  mixins: [settingsMixin],\n  props: {\n    interfaces: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      search: null,\n      filteredNo: null\n    };\n  },\n  computed: {\n    headers: function headers() {\n      return [{\n        text: this.$vuntangle.$t('name'),\n        value: 'displayName'\n      }, {\n        text: this.$vuntangle.$t('interface'),\n        value: 'interfaceId'\n      }, {\n        text: '',\n        value: 'actions',\n        align: 'end'\n      }];\n    },\n    interfacesMap: function interfacesMap(_ref) {\n      var interfaces = _ref.interfaces;\n      return interfaces.reduce(function (res, intf) {\n        return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, intf.interfaceId, intf.name));\n      }, {});\n    },\n    trackedObjects: function trackedObjects(_ref2) {\n      var settingsCopy = _ref2.settingsCopy;\n      return settingsCopy || [];\n    }\n  },\n  methods: {\n    /**\n     * Shows edit dialog, adds a new item if index is undefined\n     * @param index - number\n     */\n    onEdit: function onEdit() {\n      var _this = this;\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      this.$vuntangle.dialog.show({\n        title: this.$vuntangle.$t(index === undefined ? 'add_interface_tracker' : 'edit_interface_tracker'),\n        component: InterfaceTrackerEdit,\n        width: 600,\n        height: 'auto',\n        actionLabel: this.$vuntangle.$t(index === undefined ? 'add' : 'update'),\n        componentProps: {\n          index: index,\n          interfaces: this.interfaces,\n          features: this.features,\n          settings: index === undefined ? {} : this.trackedObjects[index]\n        },\n        componentEvents: {\n          update: function update(entry, index) {\n            // add or update the entry from the dialog\n            if (index === undefined) {\n              _this.settingsCopy.push(entry);\n            } else {\n              _this.settingsCopy.splice(index, 1, entry);\n            }\n            _this.$emit('update:settings', _this.settingsCopy);\n            _this.$emit('save-analyzers', _this.settingsCopy, false);\n          }\n        }\n      });\n    },\n    /**\n     * confirmation dialog when deleting an analyzer\n     */\n    onDeleteEntry: function onDeleteEntry(tracker, index) {\n      var _this2 = this;\n      var linkedInterfaces = this.interfaces.filter(function (intf) {\n        return (intf.vrrptrack || []).find(function (track) {\n          return track.name === tracker.name;\n        });\n      });\n      var postfix = linkedInterfaces.length ? \" \".concat(this.$vuntangle.$t('following_attached_interfaces_will_be_impacted')) : '';\n      this.$vuntangle.confirm.show({\n        title: \"<i class=\\\"mdi mdi-alert\\\" style=\\\"font-style: normal;\\\"> \".concat(this.$vuntangle.$t('confirm'), \"</i>\"),\n        message: this.$vuntangle.$t('confirm_delete_tracker', [tracker.displayName]) + postfix,\n        messageList: linkedInterfaces.map(function (_ref3) {\n          var name = _ref3.name;\n          return name;\n        }),\n        confirmLabel: this.$vuntangle.$t('yes'),\n        cancelLabel: this.$vuntangle.$t('no'),\n        action: function () {\n          var _action = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve) {\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return _this2.$emit('delete-interface-tracker', index);\n                case 2:\n                  resolve();\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee);\n          }));\n          function action(_x) {\n            return _action.apply(this, arguments);\n          }\n          return action;\n        }()\n      });\n    }\n  }\n};","map":{"version":3,"names":["VSpacer","VDivider","VCard","VDataTable","VBtn","VIcon","settingsMixin","InterfaceTrackerEdit","components","mixins","props","interfaces","type","Array","default","data","search","filteredNo","computed","headers","text","$vuntangle","$t","value","align","interfacesMap","_ref","reduce","res","intf","_objectSpread","_defineProperty","interfaceId","name","trackedObjects","_ref2","settingsCopy","methods","onEdit","_this","index","arguments","length","undefined","dialog","show","title","component","width","height","actionLabel","componentProps","features","settings","componentEvents","update","entry","push","splice","$emit","onDeleteEntry","tracker","_this2","linkedInterfaces","filter","vrrptrack","find","track","postfix","concat","confirm","message","displayName","messageList","map","_ref3","confirmLabel","cancelLabel","action","_action","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolve","wrap","_callee$","_context","prev","next","stop","_x","apply"],"sources":["node_modules/vuntangle/src/shared/StatusAnalyzers/InterfaceTrackerList.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"d-flex align-center my-4\">\n      <h3>{{ $vuntangle.$t('interface_trackers') }}</h3>\n      <v-spacer />\n      <u-btn color=\"primary\" :min-width=\"null\" :disabled=\"disabled\" @click=\"onEdit()\">\n        <v-icon left>mdi-plus</v-icon> {{ $vuntangle.$t('add_interface_tracker') }}\n      </u-btn>\n    </div>\n\n    <v-card outlined>\n      <div class=\"d-flex pa-2 align-center\">\n        <u-text-field v-model=\"search\" :label=\"$vuntangle.$t('filter')\" clearable />\n        <v-spacer />\n        <span class=\"caption\">\n          {{ $vuntangle.$t('filtered_text', { filtered: filteredNo, total: trackedObjects.length }) }}\n        </span>\n      </div>\n\n      <v-divider />\n\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"trackedObjects\"\n        :search=\"search\"\n        hide-default-footer\n        calculate-widths\n        @current-items=\"items => (filteredNo = items.length)\"\n      >\n        <template #[`item.interfaceId`]=\"{ value }\">\n          <strong>{{ interfacesMap[value] }}</strong>\n        </template>\n        <template #[`item.actions`]=\"{ item, index }\">\n          <v-btn icon dense :disabled=\"disabled\" @click=\"onEdit(index)\"><v-icon>mdi-pencil</v-icon></v-btn>\n          <v-btn icon dense :disabled=\"disabled\" @click=\"onDeleteEntry(item, index)\"><v-icon>mdi-close</v-icon></v-btn>\n        </template>\n\n        <template #no-results>\n          <div class=\"my-8\">\n            <span>{{ $vuntangle.$t('no_data_meets_filter') }}</span>\n            <br /><br />\n            <u-btn outlined @click=\"search = null\">{{ $vuntangle.$t('clear_filters') }}</u-btn>\n          </div>\n        </template>\n        <template #no-data>\n          <div class=\"my-8\">\n            <span>{{ $vuntangle.$t('no_data_available') }}</span>\n          </div>\n        </template>\n      </v-data-table>\n    </v-card>\n  </div>\n</template>\n\n<script>\n  import { VSpacer, VDivider, VCard, VDataTable, VBtn, VIcon } from 'vuetify/lib'\n  import settingsMixin from '../settingsMixin'\n  import InterfaceTrackerEdit from './InterfaceTrackerEdit.vue'\n\n  export default {\n    components: { VSpacer, VDivider, VCard, VDataTable, VBtn, VIcon },\n    mixins: [settingsMixin],\n    props: {\n      interfaces: { type: Array, default: () => [] },\n    },\n    data() {\n      return {\n        search: null,\n        filteredNo: null,\n      }\n    },\n    computed: {\n      headers() {\n        return [\n          { text: this.$vuntangle.$t('name'), value: 'displayName' },\n          { text: this.$vuntangle.$t('interface'), value: 'interfaceId' },\n          { text: '', value: 'actions', align: 'end' },\n        ]\n      },\n      interfacesMap: ({ interfaces }) =>\n        interfaces.reduce((res, intf) => {\n          return { ...res, [intf.interfaceId]: intf.name }\n        }, {}),\n      trackedObjects: ({ settingsCopy }) => settingsCopy || [],\n    },\n    methods: {\n      /**\n       * Shows edit dialog, adds a new item if index is undefined\n       * @param index - number\n       */\n      onEdit(index = undefined) {\n        this.$vuntangle.dialog.show({\n          title: this.$vuntangle.$t(index === undefined ? 'add_interface_tracker' : 'edit_interface_tracker'),\n          component: InterfaceTrackerEdit,\n          width: 600,\n          height: 'auto',\n          actionLabel: this.$vuntangle.$t(index === undefined ? 'add' : 'update'),\n          componentProps: {\n            index,\n            interfaces: this.interfaces,\n            features: this.features,\n            settings: index === undefined ? {} : this.trackedObjects[index],\n          },\n          componentEvents: {\n            update: (entry, index) => {\n              // add or update the entry from the dialog\n              if (index === undefined) {\n                this.settingsCopy.push(entry)\n              } else {\n                this.settingsCopy.splice(index, 1, entry)\n              }\n              this.$emit('update:settings', this.settingsCopy)\n              this.$emit('save-analyzers', this.settingsCopy, false)\n            },\n          },\n        })\n      },\n\n      /**\n       * confirmation dialog when deleting an analyzer\n       */\n      onDeleteEntry(tracker, index) {\n        const linkedInterfaces = this.interfaces.filter(intf =>\n          (intf.vrrptrack || []).find(track => track.name === tracker.name),\n        )\n        const postfix = linkedInterfaces.length\n          ? ` ${this.$vuntangle.$t('following_attached_interfaces_will_be_impacted')}`\n          : ''\n        this.$vuntangle.confirm.show({\n          title: `<i class=\"mdi mdi-alert\" style=\"font-style: normal;\"> ${this.$vuntangle.$t('confirm')}</i>`,\n          message: this.$vuntangle.$t('confirm_delete_tracker', [tracker.displayName]) + postfix,\n          messageList: linkedInterfaces.map(({ name }) => name),\n          confirmLabel: this.$vuntangle.$t('yes'),\n          cancelLabel: this.$vuntangle.$t('no'),\n          action: async resolve => {\n            await this.$emit('delete-interface-tracker', index)\n            resolve()\n          },\n        })\n      },\n    },\n  }\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}