{"ast":null,"code":"import _regeneratorRuntime from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { VCardActions, VBtn, VIcon, VDivider, VList, VTooltip, VListItem, VListItemAvatar, VImg, VListItemTitle, VOverlay, VProgressCircular } from 'vuetify/lib';\nimport UTextField from '../UTextField';\nexport default {\n  components: {\n    VCardActions: VCardActions,\n    VBtn: VBtn,\n    VIcon: VIcon,\n    VDivider: VDivider,\n    VList: VList,\n    VTooltip: VTooltip,\n    VListItem: VListItem,\n    VListItemAvatar: VListItemAvatar,\n    VImg: VImg,\n    VListItemTitle: VListItemTitle,\n    VOverlay: VOverlay,\n    VProgressCircular: VProgressCircular,\n    UTextField: UTextField\n  },\n  props: {\n    /**\n     * Array with nav items,\n     * Item is an object having following props:\n     * {\n     *   to: '<route>' - required, the route link for this item\n     *   title: '<title>' - required, the list title text\n     *   icon: '<icon-string>' - optional, the icon string (e.g. 'mdi-cog')\n     *   iconColor: '<color>' - optional, the color of the icon\n     *   img: '<img-url>' - optional, the image url shown as an avatar\n     *   data: {Object} - the full data object (used for filtering/tooltips)\n     * }\n     */\n    items: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    /**\n     * A string defining the back route, it will show a back button if defined\n     */\n    backTo: {\n      type: String,\n      \"default\": ''\n    },\n    /**\n     * Boolean that adds a filtering text field to find a specific item\n     * The filter lookups for title and subtitles matches\n     */\n    enableFilter: {\n      type: Boolean,\n      \"default\": false\n    },\n    /**\n     * Boolean adding refresh button to the top of the list\n     */\n    enableRefresh: {\n      type: Boolean,\n      \"default\": false\n    },\n    /**\n     * store actions to be dispatched related with list data to display\n     */\n    dataActions: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    /**\n     * store loaders monitoring data state\n     */\n    dataLoaders: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    /**\n     * Functioned called if a data action failed in fetchData()\n     * @params ex - exception that trigged error\n     */\n    fetchErrorHandler: {\n      type: Function,\n      // eslint-disable-next-line no-console\n      \"default\": function _default(ex) {\n        return console.error(ex);\n      }\n    }\n  },\n  data: function data() {\n    return {\n      // the filter string used for matching title and subtitles\n      filterText: ''\n    };\n  },\n  computed: {\n    /**\n     * Method that filters out items based on quick filter string\n     */\n    filteredItems: function filteredItems() {\n      var _this = this;\n      if (!this.filterText) {\n        return this.items;\n      }\n      return this.items.filter(function (item) {\n        var filter = false;\n        for (var _i = 0, _Object$entries = Object.entries(item.data); _i < _Object$entries.length; _i++) {\n          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n            value = _Object$entries$_i[1];\n          if (!filter && value && value.toString().toLowerCase().includes(_this.filterText.toLowerCase())) {\n            filter = true;\n          }\n        }\n        return filter;\n      });\n    },\n    /**\n     * boolean showing list header\n     */\n    showHeader: function showHeader() {\n      return this.backTo || this.enableFilter || this.enableRefresh;\n    },\n    isFetching: function isFetching() {\n      var _this2 = this;\n      return this.dataLoaders.some(function (loader) {\n        return loader.split('.').reduce(function (a, b) {\n          return a[b];\n        }, _this2.$store.state);\n      });\n    }\n  },\n  mounted: function mounted() {\n    if (this.dataActions) {\n      this.fetchData();\n    }\n  },\n  methods: {\n    /**\n     * dispatches store actions passed via dataActions\n     */\n    fetchData: function fetchData() {\n      var _arguments = arguments,\n        _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var force;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              force = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n              _context2.next = 3;\n              return Promise.all(_this3.dataActions.map(/*#__PURE__*/function () {\n                var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(action) {\n                  return _regeneratorRuntime().wrap(function _callee$(_context) {\n                    while (1) switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        _context.next = 3;\n                        return _this3.$store.dispatch(action, {\n                          force: force\n                        });\n                      case 3:\n                        _context.next = 8;\n                        break;\n                      case 5:\n                        _context.prev = 5;\n                        _context.t0 = _context[\"catch\"](0);\n                        // shows vuex exception when running in dev mode\n                        _this3.fetchErrorHandler(_context.t0);\n                      case 8:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }, _callee, null, [[0, 5]]);\n                }));\n                return function (_x) {\n                  return _ref.apply(this, arguments);\n                };\n              }()));\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["VCardActions","VBtn","VIcon","VDivider","VList","VTooltip","VListItem","VListItemAvatar","VImg","VListItemTitle","VOverlay","VProgressCircular","UTextField","components","props","items","type","Array","default","backTo","String","enableFilter","Boolean","enableRefresh","dataActions","dataLoaders","fetchErrorHandler","Function","ex","console","error","data","filterText","computed","filteredItems","_this","filter","item","_i","_Object$entries","Object","entries","length","_Object$entries$_i","_slicedToArray","value","toString","toLowerCase","includes","showHeader","isFetching","_this2","some","loader","split","reduce","a","b","$store","state","mounted","fetchData","methods","_arguments","arguments","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","force","wrap","_callee2$","_context2","prev","next","undefined","Promise","all","map","_ref","_callee","action","_callee$","_context","dispatch","t0","stop","_x","apply"],"sources":["node_modules/vuntangle/src/components/UNavList/UNavList.vue"],"sourcesContent":["<!--\n  Component used in nav drawers displaying a list derived from a store (e.g. appliances)\n  Sample usage:\n  <ut-nav-list\n    :items=\"items\"\n    :enable-filter=\"true\"\n    back-to=\"/appliances\"\n  ></ut-nav-list>\n-->\n<template>\n  <div class=\"d-flex flex-column fill-height align-stretch\" style=\"overflow-y: auto\">\n    <v-card-actions v-if=\"showHeader\" flat class=\"pa-2\">\n      <v-btn v-if=\"backTo\" icon class=\"mr-2\" :to=\"backTo\">\n        <v-icon>mdi-arrow-left</v-icon>\n      </v-btn>\n      <u-text-field\n        v-if=\"enableFilter\"\n        v-model=\"filterText\"\n        :placeholder=\"$vuntangle.$t('quick_filter')\"\n        flat\n        clearable\n      />\n      <v-btn v-if=\"enableRefresh\" icon class=\"ml-2\" @click=\"fetchData(true)\">\n        <v-icon>mdi-refresh</v-icon>\n      </v-btn>\n    </v-card-actions>\n\n    <v-divider />\n\n    <v-list dense nav class=\"flex-grow-1\" style=\"overflow-y: auto\">\n      <v-tooltip\n        v-for=\"(item, i) in filteredItems\"\n        :key=\"i\"\n        right\n        transition=\"none\"\n        :color=\"$vuntangle.theme === 'dark' ? 'white' : 'black'\"\n      >\n        <template #activator=\"{ on }\">\n          <v-list-item :to=\"item.to\" exact v-on=\"on\">\n            <!-- add icon if set on item -->\n            <v-list-item-avatar size=\"16\" tile>\n              <v-icon v-if=\"item.icon\" x-small :color=\"item.iconColor || 'primary'\">{{ item.icon }}</v-icon>\n              <v-img v-if=\"item.img\" :src=\"item.img\" contain></v-img>\n            </v-list-item-avatar>\n            <v-list-item-title class=\"text-none\" v-html=\"item.title\" />\n          </v-list-item>\n        </template>\n        <span :class=\"$vuntangle.theme === 'dark' ? 'black--text' : 'white--text'\" v-html=\"item.tooltip\"></span>\n      </v-tooltip>\n    </v-list>\n\n    <v-overlay :value=\"isFetching\" :absolute=\"true\" z-index=\"999\" class=\"text-center\">\n      <v-progress-circular indeterminate size=\"32\" color=\"aristaMediumBlue\" />\n    </v-overlay>\n  </div>\n</template>\n\n<script>\n  import {\n    VCardActions,\n    VBtn,\n    VIcon,\n    VDivider,\n    VList,\n    VTooltip,\n    VListItem,\n    VListItemAvatar,\n    VImg,\n    VListItemTitle,\n    VOverlay,\n    VProgressCircular,\n  } from 'vuetify/lib'\n  import UTextField from '../UTextField'\n\n  export default {\n    components: {\n      VCardActions,\n      VBtn,\n      VIcon,\n      VDivider,\n      VList,\n      VTooltip,\n      VListItem,\n      VListItemAvatar,\n      VImg,\n      VListItemTitle,\n      VOverlay,\n      VProgressCircular,\n      UTextField,\n    },\n    props: {\n      /**\n       * Array with nav items,\n       * Item is an object having following props:\n       * {\n       *   to: '<route>' - required, the route link for this item\n       *   title: '<title>' - required, the list title text\n       *   icon: '<icon-string>' - optional, the icon string (e.g. 'mdi-cog')\n       *   iconColor: '<color>' - optional, the color of the icon\n       *   img: '<img-url>' - optional, the image url shown as an avatar\n       *   data: {Object} - the full data object (used for filtering/tooltips)\n       * }\n       */\n      items: {\n        type: Array,\n        default() {\n          return []\n        },\n      },\n      /**\n       * A string defining the back route, it will show a back button if defined\n       */\n      backTo: {\n        type: String,\n        default: '',\n      },\n      /**\n       * Boolean that adds a filtering text field to find a specific item\n       * The filter lookups for title and subtitles matches\n       */\n      enableFilter: {\n        type: Boolean,\n        default: false,\n      },\n\n      /**\n       * Boolean adding refresh button to the top of the list\n       */\n      enableRefresh: {\n        type: Boolean,\n        default: false,\n      },\n\n      /**\n       * store actions to be dispatched related with list data to display\n       */\n      dataActions: {\n        type: Array,\n        default() {\n          return []\n        },\n      },\n\n      /**\n       * store loaders monitoring data state\n       */\n      dataLoaders: {\n        type: Array,\n        default() {\n          return []\n        },\n      },\n\n      /**\n       * Functioned called if a data action failed in fetchData()\n       * @params ex - exception that trigged error\n       */\n      fetchErrorHandler: {\n        type: Function,\n        // eslint-disable-next-line no-console\n        default: ex => console.error(ex),\n      },\n    },\n    data() {\n      return {\n        // the filter string used for matching title and subtitles\n        filterText: '',\n      }\n    },\n    computed: {\n      /**\n       * Method that filters out items based on quick filter string\n       */\n      filteredItems() {\n        if (!this.filterText) {\n          return this.items\n        }\n        return this.items.filter(item => {\n          let filter = false\n          for (const [, value] of Object.entries(item.data)) {\n            if (!filter && value && value.toString().toLowerCase().includes(this.filterText.toLowerCase())) {\n              filter = true\n            }\n          }\n          return filter\n        })\n      },\n\n      /**\n       * boolean showing list header\n       */\n      showHeader() {\n        return this.backTo || this.enableFilter || this.enableRefresh\n      },\n\n      isFetching() {\n        return this.dataLoaders.some(loader => {\n          return loader.split('.').reduce((a, b) => a[b], this.$store.state)\n        })\n      },\n    },\n\n    mounted() {\n      if (this.dataActions) {\n        this.fetchData()\n      }\n    },\n\n    methods: {\n      /**\n       * dispatches store actions passed via dataActions\n       */\n      async fetchData(force = false) {\n        await Promise.all(\n          this.dataActions.map(async action => {\n            try {\n              await this.$store.dispatch(action, { force })\n            } catch (ex) {\n              // shows vuex exception when running in dev mode\n              this.fetchErrorHandler(ex)\n            }\n          }),\n        )\n      },\n    },\n  }\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}