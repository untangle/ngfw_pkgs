{"ast":null,"code":"import _regeneratorRuntime from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nexport default {\n  data: function data() {\n    return {\n      serverData: [],\n      licenses: [],\n      licenseFetching: false,\n      legalUrl: undefined\n    };\n  },\n  mounted: function mounted() {\n    this.getServerData();\n    this.getLicenseData();\n    this.getLegalUrl();\n  },\n  methods: {\n    getServerData: function getServerData() {\n      // console.log(window.rpcvue)\n      this.serverData = [{\n        name: 'uid',\n        value: window.rpc.serverUID\n      }, {\n        name: 'build',\n        value: window.rpc.fullVersionAndRevision\n      }, {\n        name: 'kernel',\n        value: window.rpc.adminManager.getKernelVersion()\n      }, {\n        name: 'region',\n        value: window.rpc.regionName\n      }, {\n        name: 'history',\n        value: window.rpc.adminManager.getModificationState()\n      }, {\n        name: 'Reboots',\n        value: window.rpc.adminManager.getRebootCount()\n      }, {\n        name: 'Current active device count',\n        value: window.rpc.hostTable.getCurrentActiveSize()\n      }, {\n        name: 'Highest active device count since reboot',\n        value: window.rpc.hostTable.getMaxActiveSize()\n      }];\n    },\n    getLicenseData: function getLicenseData() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              console.log('window.rpc', window.rpc);\n              if (!window.rpc.licenseManager) {\n                window.rpc.licenseManager = window.rpc.UvmContext.licenseManager();\n              }\n              _this.licenseFetching = true;\n              // commented out for now, it blocks ui\n              // await window.rpc.licenseManager.reloadLicenses(true)\n              _context.next = 5;\n              return window.rpc.licenseManager.getLicenses();\n            case 5:\n              res = _context.sent;\n              _this.licenseFetching = false;\n              _this.licenses = res.list;\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    getLegalUrl: function getLegalUrl() {\n      this.legalUrl = window.rpc.UvmContext.getLegalUrl();\n    }\n  }\n};","map":{"version":3,"names":["data","serverData","licenses","licenseFetching","legalUrl","undefined","mounted","getServerData","getLicenseData","getLegalUrl","methods","name","value","window","rpc","serverUID","fullVersionAndRevision","adminManager","getKernelVersion","regionName","getModificationState","getRebootCount","hostTable","getCurrentActiveSize","getMaxActiveSize","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","console","log","licenseManager","UvmContext","getLicenses","sent","list","stop"],"sources":["src/ngfw/NgfwAbout.vue"],"sourcesContent":["<template>\n  <v-container>\n    <u-section :title=\"$t('about')\">\n      <v-list dense class=\"py-0\">\n        <v-list-item v-for=\"data in serverData\" :key=\"data.name\" class=\"pa-0\">\n          <v-list-item-content>\n            <v-list-item-title>{{ $vuntangle.$t(data.name) }}</v-list-item-title>\n            <v-list-item-subtitle v-text=\"data.value\" />\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item v-if=\"legalUrl\" class=\"pa-0\">\n          <v-list-item-content>\n            <v-list-item-title>{{ $t('license_agreement') }}</v-list-item-title>\n            <a :href=\"legalUrl\" target=\"_blank\">{{ legalUrl }}</a>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </u-section>\n\n    <u-section :title=\"$t('license')\">\n      <v-simple-table dense>\n        <template #default>\n          <thead>\n            <tr>\n              <th class=\"text-left\">{{ $t('name') }}</th>\n              <th class=\"text-left\" style=\"width: 150px\">{{ $t('seats') }}</th>\n              <th class=\"text-left\" style=\"width: 150px\">{{ $t('start') }}</th>\n              <th class=\"text-left\" style=\"width: 150px\">{{ $t('end') }}</th>\n              <th class=\"text-left\" style=\"width: 150px\">{{ $t('valid') }}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"lic in licenses\" :key=\"lic.key\">\n              <td>\n                <strong>{{ lic.displayName || lic.name }}</strong>\n              </td>\n              <td>{{ lic.seats }}</td>\n              <td>{{ $vuntangle.dates.formatDateFromApi(lic.start, false) }}</td>\n              <td>{{ $vuntangle.dates.formatDateFromApi(lic.end, false) }}</td>\n              <td>{{ lic.valid }}</td>\n            </tr>\n          </tbody>\n        </template>\n      </v-simple-table>\n      <template #actions>\n        <u-btn class=\"mr-2\">{{ $t('refresh_licenses') }}</u-btn>\n      </template>\n    </u-section>\n  </v-container>\n</template>\n<script>\n  export default {\n    data() {\n      return {\n        serverData: [],\n        licenses: [],\n        licenseFetching: false,\n        legalUrl: undefined,\n      }\n    },\n\n    mounted() {\n      this.getServerData()\n      this.getLicenseData()\n      this.getLegalUrl()\n    },\n\n    methods: {\n      getServerData() {\n        // console.log(window.rpcvue)\n        this.serverData = [\n          { name: 'uid', value: window.rpc.serverUID },\n          {\n            name: 'build',\n            value: window.rpc.fullVersionAndRevision,\n          },\n          {\n            name: 'kernel',\n            value: window.rpc.adminManager.getKernelVersion(),\n          },\n          {\n            name: 'region',\n            value: window.rpc.regionName,\n          },\n          {\n            name: 'history',\n            value: window.rpc.adminManager.getModificationState(),\n          },\n          {\n            name: 'Reboots',\n            value: window.rpc.adminManager.getRebootCount(),\n          },\n          {\n            name: 'Current active device count',\n            value: window.rpc.hostTable.getCurrentActiveSize(),\n          },\n          {\n            name: 'Highest active device count since reboot',\n            value: window.rpc.hostTable.getMaxActiveSize(),\n          },\n        ]\n      },\n\n      async getLicenseData() {\n        console.log('window.rpc', window.rpc)\n        if (!window.rpc.licenseManager) {\n          window.rpc.licenseManager = window.rpc.UvmContext.licenseManager()\n        }\n        this.licenseFetching = true\n        // commented out for now, it blocks ui\n        // await window.rpc.licenseManager.reloadLicenses(true)\n        const res = await window.rpc.licenseManager.getLicenses()\n        this.licenseFetching = false\n        this.licenses = res.list\n      },\n\n      getLegalUrl() {\n        this.legalUrl = window.rpc.UvmContext.getLegalUrl()\n      },\n    },\n  }\n</script>\n"],"mappings":";;AAmDA;EACAA,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,QAAA;MACAC,eAAA;MACAC,QAAA,EAAAC;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA,KAAAC,aAAA;IACA,KAAAC,cAAA;IACA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACAH,aAAA,WAAAA,cAAA;MACA;MACA,KAAAN,UAAA,IACA;QAAAU,IAAA;QAAAC,KAAA,EAAAC,MAAA,CAAAC,GAAA,CAAAC;MAAA,GACA;QACAJ,IAAA;QACAC,KAAA,EAAAC,MAAA,CAAAC,GAAA,CAAAE;MACA,GACA;QACAL,IAAA;QACAC,KAAA,EAAAC,MAAA,CAAAC,GAAA,CAAAG,YAAA,CAAAC,gBAAA;MACA,GACA;QACAP,IAAA;QACAC,KAAA,EAAAC,MAAA,CAAAC,GAAA,CAAAK;MACA,GACA;QACAR,IAAA;QACAC,KAAA,EAAAC,MAAA,CAAAC,GAAA,CAAAG,YAAA,CAAAG,oBAAA;MACA,GACA;QACAT,IAAA;QACAC,KAAA,EAAAC,MAAA,CAAAC,GAAA,CAAAG,YAAA,CAAAI,cAAA;MACA,GACA;QACAV,IAAA;QACAC,KAAA,EAAAC,MAAA,CAAAC,GAAA,CAAAQ,SAAA,CAAAC,oBAAA;MACA,GACA;QACAZ,IAAA;QACAC,KAAA,EAAAC,MAAA,CAAAC,GAAA,CAAAQ,SAAA,CAAAE,gBAAA;MACA,EACA;IACA;IAEAhB,cAAA,WAAAA,eAAA;MAAA,IAAAiB,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,GAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAC,OAAA,CAAAC,GAAA,eAAAxB,MAAA,CAAAC,GAAA;cACA,KAAAD,MAAA,CAAAC,GAAA,CAAAwB,cAAA;gBACAzB,MAAA,CAAAC,GAAA,CAAAwB,cAAA,GAAAzB,MAAA,CAAAC,GAAA,CAAAyB,UAAA,CAAAD,cAAA;cACA;cACAb,KAAA,CAAAtB,eAAA;cACA;cACA;cAAA8B,QAAA,CAAAE,IAAA;cAAA,OACAtB,MAAA,CAAAC,GAAA,CAAAwB,cAAA,CAAAE,WAAA;YAAA;cAAAV,GAAA,GAAAG,QAAA,CAAAQ,IAAA;cACAhB,KAAA,CAAAtB,eAAA;cACAsB,KAAA,CAAAvB,QAAA,GAAA4B,GAAA,CAAAY,IAAA;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IACA;IAEApB,WAAA,WAAAA,YAAA;MACA,KAAAL,QAAA,GAAAS,MAAA,CAAAC,GAAA,CAAAyB,UAAA,CAAA9B,WAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}