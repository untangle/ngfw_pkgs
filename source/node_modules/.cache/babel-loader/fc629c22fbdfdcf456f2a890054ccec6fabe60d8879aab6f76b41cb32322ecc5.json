{"ast":null,"code":"import _regeneratorRuntime from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { SettingsDhcp } from 'vuntangle';\nimport transform from '@/util/transform';\nexport default {\n  components: {\n    SettingsDhcp: SettingsDhcp\n  },\n  data: function data() {\n    return {\n      leases: [],\n      fetching: false\n    };\n  },\n  computed: {\n    dhcpSettings: function dhcpSettings() {\n      return transform.dhcp.get();\n    }\n  },\n  methods: {\n    onFetchLeases: function onFetchLeases() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.fetching = true;\n              _context.next = 3;\n              return window.rpc.networkManager.getStatus('DHCP_LEASES', null);\n            case 3:\n              _this.leases = _context.sent;\n              _this.fetching = false;\n              _this.leases = [];\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    onSaveSettings: function onSaveSettings(newDhcpSettings) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this2.$store.dispatch('settings/saveNetworkSettings', transform.dhcp.set(newDhcpSettings));\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["SettingsDhcp","transform","components","data","leases","fetching","computed","dhcpSettings","dhcp","get","methods","onFetchLeases","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","window","rpc","networkManager","getStatus","sent","stop","onSaveSettings","newDhcpSettings","_this2","_callee2","_callee2$","_context2","$store","dispatch","set"],"sources":["src/ngfw/NgfwDhcp.vue"],"sourcesContent":["<template>\n  <settings-dhcp :settings=\"dhcpSettings\" :leases=\"leases\" :fetching=\"fetching\" @fetch-leases=\"onFetchLeases\">\n    <template #actions=\"{ newSettings, isDirty }\">\n      <u-btn :min-width=\"null\" :disabled=\"!isDirty\" @click=\"onSaveSettings(newSettings)\">{{ $t('save') }}</u-btn>\n    </template>\n  </settings-dhcp>\n</template>\n<script>\n  import { SettingsDhcp } from 'vuntangle'\n  import transform from '@/util/transform'\n\n  export default {\n    components: { SettingsDhcp },\n\n    data() {\n      return {\n        leases: [],\n        fetching: false,\n      }\n    },\n\n    computed: {\n      dhcpSettings: () => transform.dhcp.get(),\n    },\n\n    methods: {\n      async onFetchLeases() {\n        this.fetching = true\n        this.leases = await window.rpc.networkManager.getStatus('DHCP_LEASES', null)\n        this.fetching = false\n        this.leases = []\n      },\n\n      async onSaveSettings(newDhcpSettings) {\n        await this.$store.dispatch('settings/saveNetworkSettings', transform.dhcp.set(newDhcpSettings))\n      },\n    },\n  }\n</script>\n"],"mappings":";;AAQA,SAAAA,YAAA;AACA,OAAAC,SAAA;AAEA;EACAC,UAAA;IAAAF,YAAA,EAAAA;EAAA;EAEAG,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAC,QAAA;IACA;EACA;EAEAC,QAAA;IACAC,YAAA,WAAAA,aAAA;MAAA,OAAAN,SAAA,CAAAO,IAAA,CAAAC,GAAA;IAAA;EACA;EAEAC,OAAA;IACAC,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAT,KAAA,CAAAP,QAAA;cAAAc,QAAA,CAAAE,IAAA;cAAA,OACAC,MAAA,CAAAC,GAAA,CAAAC,cAAA,CAAAC,SAAA;YAAA;cAAAb,KAAA,CAAAR,MAAA,GAAAe,QAAA,CAAAO,IAAA;cACAd,KAAA,CAAAP,QAAA;cACAO,KAAA,CAAAR,MAAA;YAAA;YAAA;cAAA,OAAAe,QAAA,CAAAQ,IAAA;UAAA;QAAA,GAAAX,OAAA;MAAA;IACA;IAEAY,cAAA,WAAAA,eAAAC,eAAA;MAAA,IAAAC,MAAA;MAAA,OAAAjB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAgB,SAAA;QAAA,OAAAjB,mBAAA,GAAAG,IAAA,UAAAe,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAb,IAAA,GAAAa,SAAA,CAAAZ,IAAA;YAAA;cAAAY,SAAA,CAAAZ,IAAA;cAAA,OACAS,MAAA,CAAAI,MAAA,CAAAC,QAAA,iCAAAlC,SAAA,CAAAO,IAAA,CAAA4B,GAAA,CAAAP,eAAA;YAAA;YAAA;cAAA,OAAAI,SAAA,CAAAN,IAAA;UAAA;QAAA,GAAAI,QAAA;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}