{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport Vue from 'vue';\n\n// import vuetify components\nimport { VList, VListItem, VListItemIcon, VIcon, VListItemContent, VListItemTitle, VListItemAction, VBtn, VSelect, VDivider } from 'vuetify/lib';\nimport ColumnMenu from '../components/ColumnMenu';\nexport default Vue.extend({\n  components: {\n    ColumnMenu: ColumnMenu,\n    VList: VList,\n    VListItem: VListItem,\n    VListItemIcon: VListItemIcon,\n    VIcon: VIcon,\n    VListItemContent: VListItemContent,\n    VListItemTitle: VListItemTitle,\n    VListItemAction: VListItemAction,\n    VBtn: VBtn,\n    VSelect: VSelect,\n    VDivider: VDivider\n  },\n  data: function data() {\n    return {\n      value: [],\n      items: [],\n      filterActive: false,\n      valueGetter: null\n    };\n  },\n  watch: {\n    value: function value() {\n      this.params.filterChangedCallback();\n    }\n  },\n  created: function created() {\n    var _this = this;\n    this.valueGetter = this.params.valueGetter;\n    if (this.params.collection) {\n      this.items = this.params.collection;\n    } else {\n      var items = [];\n      this.params.api.forEachNode(function (node) {\n        var val = node.data[_this.params.colDef.field];\n        if (!items.includes(val)) {\n          items.push(val);\n        }\n      });\n      this.items = items;\n    }\n  },\n  methods: {\n    isFilterActive: function isFilterActive() {\n      this.filterActive = this.value.length > 0;\n      return this.filterActive;\n    },\n    doesFilterPass: function doesFilterPass(params) {\n      return this.value.includes(this.valueGetter(params.node));\n    },\n    getModel: function getModel() {\n      return {\n        value: this.value\n      };\n    },\n    setModel: function setModel(model) {\n      this.value = (model === null || model === void 0 ? void 0 : model.value) || [];\n    }\n  }\n});","map":{"version":3,"names":["Vue","VList","VListItem","VListItemIcon","VIcon","VListItemContent","VListItemTitle","VListItemAction","VBtn","VSelect","VDivider","ColumnMenu","extend","components","data","value","items","filterActive","valueGetter","watch","params","filterChangedCallback","created","_this","collection","api","forEachNode","node","val","colDef","field","includes","push","methods","isFilterActive","length","doesFilterPass","getModel","setModel","model"],"sources":["node_modules/vuntangle/src/components/UGrid/filters/CollectionFilter.vue"],"sourcesContent":["<template>\n  <div style=\"width: 240px\">\n    <div v-if=\"!params.disabled\">\n      <v-list dense class=\"pa-0\" color=\"transparent\">\n        <v-list-item>\n          <v-list-item-icon class=\"mr-2\"><v-icon small v-text=\"`mdi-filter`\" /></v-list-item-icon>\n          <v-list-item-content><v-list-item-title v-text=\"$vuntangle.$t('filter')\" /></v-list-item-content>\n          <v-list-item-action v-show=\"filterActive\" class=\"my-0 v-application\">\n            <v-btn x-small elevation=\"0\" color=\"primary\" @click=\"value = []\" v-text=\"$vuntangle.$t('clear')\" />\n          </v-list-item-action>\n        </v-list-item>\n      </v-list>\n      <div class=\"px-4\">\n        <v-select\n          v-model=\"value\"\n          :items=\"items\"\n          attach\n          small-chips\n          deletable-chips\n          dense\n          outlined\n          hide-details\n          multiple\n          :placeholder=\"$vuntangle.$t('select')\"\n          :menu-props=\"{ offsetY: true, dense: true }\"\n        />\n      </div>\n      <v-divider class=\"mt-4\" />\n    </div>\n    <column-menu :params=\"params\" />\n  </div>\n</template>\n<script>\n  import Vue from 'vue'\n\n  // import vuetify components\n  import {\n    VList,\n    VListItem,\n    VListItemIcon,\n    VIcon,\n    VListItemContent,\n    VListItemTitle,\n    VListItemAction,\n    VBtn,\n    VSelect,\n    VDivider,\n  } from 'vuetify/lib'\n\n  import ColumnMenu from '../components/ColumnMenu'\n\n  export default Vue.extend({\n    components: {\n      ColumnMenu,\n      VList,\n      VListItem,\n      VListItemIcon,\n      VIcon,\n      VListItemContent,\n      VListItemTitle,\n      VListItemAction,\n      VBtn,\n      VSelect,\n      VDivider,\n    },\n    data() {\n      return {\n        value: [],\n        items: [],\n        filterActive: false,\n        valueGetter: null,\n      }\n    },\n    watch: {\n      value() {\n        this.params.filterChangedCallback()\n      },\n    },\n    created() {\n      this.valueGetter = this.params.valueGetter\n\n      if (this.params.collection) {\n        this.items = this.params.collection\n      } else {\n        const items = []\n        this.params.api.forEachNode(node => {\n          const val = node.data[this.params.colDef.field]\n          if (!items.includes(val)) {\n            items.push(val)\n          }\n        })\n        this.items = items\n      }\n    },\n    methods: {\n      isFilterActive() {\n        this.filterActive = this.value.length > 0\n        return this.filterActive\n      },\n\n      doesFilterPass(params) {\n        return this.value.includes(this.valueGetter(params.node))\n      },\n\n      getModel() {\n        return { value: this.value }\n      },\n\n      setModel(model) {\n        this.value = model?.value || []\n      },\n    },\n  })\n</script>\n"],"mappings":";;;AAiCA,OAAAA,GAAA;;AAEA;AACA,SACAC,KAAA,EACAC,SAAA,EACAC,aAAA,EACAC,KAAA,EACAC,gBAAA,EACAC,cAAA,EACAC,eAAA,EACAC,IAAA,EACAC,OAAA,EACAC,QAAA,QACA;AAEA,OAAAC,UAAA;AAEA,eAAAX,GAAA,CAAAY,MAAA;EACAC,UAAA;IACAF,UAAA,EAAAA,UAAA;IACAV,KAAA,EAAAA,KAAA;IACAC,SAAA,EAAAA,SAAA;IACAC,aAAA,EAAAA,aAAA;IACAC,KAAA,EAAAA,KAAA;IACAC,gBAAA,EAAAA,gBAAA;IACAC,cAAA,EAAAA,cAAA;IACAC,eAAA,EAAAA,eAAA;IACAC,IAAA,EAAAA,IAAA;IACAC,OAAA,EAAAA,OAAA;IACAC,QAAA,EAAAA;EACA;EACAI,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA;MACAC,KAAA;MACAC,YAAA;MACAC,WAAA;IACA;EACA;EACAC,KAAA;IACAJ,KAAA,WAAAA,MAAA;MACA,KAAAK,MAAA,CAAAC,qBAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA,KAAAL,WAAA,QAAAE,MAAA,CAAAF,WAAA;IAEA,SAAAE,MAAA,CAAAI,UAAA;MACA,KAAAR,KAAA,QAAAI,MAAA,CAAAI,UAAA;IACA;MACA,IAAAR,KAAA;MACA,KAAAI,MAAA,CAAAK,GAAA,CAAAC,WAAA,WAAAC,IAAA;QACA,IAAAC,GAAA,GAAAD,IAAA,CAAAb,IAAA,CAAAS,KAAA,CAAAH,MAAA,CAAAS,MAAA,CAAAC,KAAA;QACA,KAAAd,KAAA,CAAAe,QAAA,CAAAH,GAAA;UACAZ,KAAA,CAAAgB,IAAA,CAAAJ,GAAA;QACA;MACA;MACA,KAAAZ,KAAA,GAAAA,KAAA;IACA;EACA;EACAiB,OAAA;IACAC,cAAA,WAAAA,eAAA;MACA,KAAAjB,YAAA,QAAAF,KAAA,CAAAoB,MAAA;MACA,YAAAlB,YAAA;IACA;IAEAmB,cAAA,WAAAA,eAAAhB,MAAA;MACA,YAAAL,KAAA,CAAAgB,QAAA,MAAAb,WAAA,CAAAE,MAAA,CAAAO,IAAA;IACA;IAEAU,QAAA,WAAAA,SAAA;MACA;QAAAtB,KAAA,OAAAA;MAAA;IACA;IAEAuB,QAAA,WAAAA,SAAAC,KAAA;MACA,KAAAxB,KAAA,IAAAwB,KAAA,aAAAA,KAAA,uBAAAA,KAAA,CAAAxB,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}