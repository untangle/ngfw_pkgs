{"ast":null,"code":"import _regeneratorRuntime from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport { VContainer, VCheckbox, VTextarea } from 'vuetify/lib';\nimport { ValidationObserver, ValidationProvider } from 'vee-validate';\nimport cloneDeep from 'lodash/cloneDeep';\nexport default {\n  components: {\n    VContainer: VContainer,\n    VCheckbox: VCheckbox,\n    VTextarea: VTextarea,\n    ValidationObserver: ValidationObserver,\n    ValidationProvider: ValidationProvider\n  },\n  props: {\n    // the cloned list of sites\n    list: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    // index of site being edited\n    index: {\n      type: Number,\n      \"default\": -1\n    },\n    // site list type: `block` or `pass`\n    type: {\n      type: String,\n      \"default\": 'block'\n    }\n  },\n  data: function data() {\n    return {\n      // default new site values\n      site: null,\n      sitesValidationList: []\n    };\n  },\n  created: function created() {\n    // create a list of site names used to show field error on duplicate name\n    var names = this.list.map(function (_ref) {\n      var name = _ref.name;\n      return name;\n    });\n    if (this.index > -1) {\n      this.site = cloneDeep(this.list[this.index]);\n      names.splice(names.indexOf(this.site.name), 1);\n    } else {\n      this.site = {\n        name: '',\n        description: '',\n        enabled: true,\n        flagged: this.type === 'block',\n        exact: false\n      };\n    }\n    this.sitesValidationList = names;\n  },\n  methods: {\n    action: function action() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var isValid;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.$refs.obs.validate();\n            case 2:\n              isValid = _context.sent;\n              if (isValid) {\n                _context.next = 5;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 5:\n              // updates or adds the site to the list\n              _this.$set(_this.list, _this.index > -1 ? _this.index : _this.list.length, _this.site);\n              // close dialog\n              _this.$emit('close');\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["VContainer","VCheckbox","VTextarea","ValidationObserver","ValidationProvider","cloneDeep","components","props","list","type","Array","default","index","Number","String","data","site","sitesValidationList","created","names","map","_ref","name","splice","indexOf","description","enabled","flagged","exact","methods","action","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","isValid","wrap","_callee$","_context","prev","next","$refs","obs","validate","sent","abrupt","$set","length","$emit","stop"],"sources":["node_modules/vuntangle/src/shared/SettingsWebFilter/components/SiteDialog.vue"],"sourcesContent":["<template>\n  <v-container class=\"pb-0 px-0\">\n    <ValidationObserver ref=\"obs\">\n      <div class=\"d-flex align-center\">\n        <ValidationProvider\n          v-slot=\"{ errors }\"\n          :rules=\"{\n            required: true,\n            domain: true,\n            unique_insensitive: { list: sitesValidationList, message: $t('site_already_in_list') },\n          }\"\n          class=\"flex-grow-1\"\n        >\n          <u-text-field\n            ref=\"sitename\"\n            v-model=\"site.name\"\n            :label=\"$t('enter_site_domain')\"\n            :error-messages=\"errors\"\n            class=\"mr-4\"\n          >\n            <template v-if=\"errors.length\" #append><u-errors-tooltip :errors=\"errors\" /></template>\n          </u-text-field>\n        </ValidationProvider>\n        <v-checkbox\n          v-model=\"site.enabled\"\n          dense\n          class=\"mt-0 mr-4 pa-0\"\n          hide-details\n          :label=\"type === 'block' ? $t('block') : $t('pass')\"\n          :color=\"type === 'block' ? 'red' : 'utGreen'\"\n        />\n        <v-checkbox\n          v-model=\"site.flagged\"\n          dense\n          class=\"ma-0 pa-0\"\n          hide-details\n          :label=\"$t('flag')\"\n          :disabled=\"site.enabled && type === 'block'\"\n        />\n      </div>\n      <div class=\"d-flex mt-2\">\n        <v-checkbox v-model=\"site.exact\" dense class=\"ma-0 pa-0\" hide-details :label=\"$t('exact_match')\" />\n      </div>\n      <v-textarea\n        v-model=\"site.description\"\n        outlined\n        rows=\"3\"\n        :label=\"$t('description')\"\n        no-resize\n        hide-details\n        class=\"mt-4\"\n      >\n      </v-textarea>\n    </ValidationObserver>\n  </v-container>\n</template>\n<script>\n  import { VContainer, VCheckbox, VTextarea } from 'vuetify/lib'\n  import { ValidationObserver, ValidationProvider } from 'vee-validate'\n  import cloneDeep from 'lodash/cloneDeep'\n\n  export default {\n    components: {\n      VContainer,\n      VCheckbox,\n      VTextarea,\n      ValidationObserver,\n      ValidationProvider,\n    },\n    props: {\n      // the cloned list of sites\n      list: { type: Array, default: () => [] },\n      // index of site being edited\n      index: { type: Number, default: -1 },\n      // site list type: `block` or `pass`\n      type: { type: String, default: 'block' },\n    },\n\n    data: () => ({\n      // default new site values\n      site: null,\n      sitesValidationList: [],\n    }),\n\n    created() {\n      // create a list of site names used to show field error on duplicate name\n      const names = this.list.map(({ name }) => name)\n      if (this.index > -1) {\n        this.site = cloneDeep(this.list[this.index])\n        names.splice(names.indexOf(this.site.name), 1)\n      } else {\n        this.site = { name: '', description: '', enabled: true, flagged: this.type === 'block', exact: false }\n      }\n      this.sitesValidationList = names\n    },\n\n    methods: {\n      async action() {\n        // domain validation\n        const isValid = await this.$refs.obs.validate()\n        if (!isValid) return\n        // updates or adds the site to the list\n        this.$set(this.list, this.index > -1 ? this.index : this.list.length, this.site)\n        // close dialog\n        this.$emit('close')\n      },\n    },\n  }\n</script>\n"],"mappings":";;;;;;;;AAyDA,SAAAA,UAAA,EAAAC,SAAA,EAAAC,SAAA;AACA,SAAAC,kBAAA,EAAAC,kBAAA;AACA,OAAAC,SAAA;AAEA;EACAC,UAAA;IACAN,UAAA,EAAAA,UAAA;IACAC,SAAA,EAAAA,SAAA;IACAC,SAAA,EAAAA,SAAA;IACAC,kBAAA,EAAAA,kBAAA;IACAC,kBAAA,EAAAA;EACA;EACAG,KAAA;IACA;IACAC,IAAA;MAAAC,IAAA,EAAAC,KAAA;MAAA,oBAAAC,SAAA;QAAA;MAAA;IAAA;IACA;IACAC,KAAA;MAAAH,IAAA,EAAAI,MAAA;MAAA;IAAA;IACA;IACAJ,IAAA;MAAAA,IAAA,EAAAK,MAAA;MAAA;IAAA;EACA;EAEAC,IAAA,WAAAA,KAAA;IAAA;MACA;MACAC,IAAA;MACAC,mBAAA;IACA;EAAA;EAEAC,OAAA,WAAAA,QAAA;IACA;IACA,IAAAC,KAAA,QAAAX,IAAA,CAAAY,GAAA,WAAAC,IAAA;MAAA,IAAAC,IAAA,GAAAD,IAAA,CAAAC,IAAA;MAAA,OAAAA,IAAA;IAAA;IACA,SAAAV,KAAA;MACA,KAAAI,IAAA,GAAAX,SAAA,MAAAG,IAAA,MAAAI,KAAA;MACAO,KAAA,CAAAI,MAAA,CAAAJ,KAAA,CAAAK,OAAA,MAAAR,IAAA,CAAAM,IAAA;IACA;MACA,KAAAN,IAAA;QAAAM,IAAA;QAAAG,WAAA;QAAAC,OAAA;QAAAC,OAAA,OAAAlB,IAAA;QAAAmB,KAAA;MAAA;IACA;IACA,KAAAX,mBAAA,GAAAE,KAAA;EACA;EAEAU,OAAA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,OAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAEAV,KAAA,CAAAW,KAAA,CAAAC,GAAA,CAAAC,QAAA;YAAA;cAAAR,OAAA,GAAAG,QAAA,CAAAM,IAAA;cAAA,IACAT,OAAA;gBAAAG,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAO,MAAA;YAAA;cACA;cACAf,KAAA,CAAAgB,IAAA,CAAAhB,KAAA,CAAAvB,IAAA,EAAAuB,KAAA,CAAAnB,KAAA,QAAAmB,KAAA,CAAAnB,KAAA,GAAAmB,KAAA,CAAAvB,IAAA,CAAAwC,MAAA,EAAAjB,KAAA,CAAAf,IAAA;cACA;cACAe,KAAA,CAAAkB,KAAA;YAAA;YAAA;cAAA,OAAAV,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}