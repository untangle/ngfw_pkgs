{"ast":null,"code":"import _regeneratorRuntime from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// import cloneDeep from 'lodash/cloneDeep'\nimport api from '@/plugins/api';\nimport uris from '@/util/uris';\nexport default {\n  data: function data() {\n    return {\n      isLicensed: undefined,\n      manageLicenseUri: undefined\n    };\n  },\n  created: function created() {\n    this.checkLicense();\n    this.getManageLicenseUri();\n  },\n  methods: {\n    /**\n     * PROP: is-licensed\n     * Checks for TP license status\n     */\n    checkLicense: function checkLicense() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (_this.licenseNodeName) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _context.next = 4;\n              return api.get(\"/api/license/enabled/\".concat(_this.licenseNodeName));\n            case 4:\n              response = _context.sent;\n              _this.isLicensed = (response === null || response === void 0 ? void 0 : response.result) || false;\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    /**\n     * PROP: manage-license-uri\n     * Fetches the URI for license management\n     */\n    getManageLicenseUri: function getManageLicenseUri() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return uris.translate(uris.list.subscriptions);\n            case 2:\n              _this2.manageLicenseUri = _context2.sent;\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["api","uris","data","isLicensed","undefined","manageLicenseUri","created","checkLicense","getManageLicenseUri","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","licenseNodeName","abrupt","get","concat","sent","result","stop","_this2","_callee2","_callee2$","_context2","translate","list","subscriptions"],"sources":["/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/src/services/serviceMixin.js"],"sourcesContent":["// import cloneDeep from 'lodash/cloneDeep'\nimport api from '@/plugins/api'\nimport uris from '@/util/uris'\n\nexport default {\n  data() {\n    return {\n      isLicensed: undefined,\n      manageLicenseUri: undefined,\n    }\n  },\n  created() {\n    this.checkLicense()\n    this.getManageLicenseUri()\n  },\n  methods: {\n    /**\n     * PROP: is-licensed\n     * Checks for TP license status\n     */\n    async checkLicense() {\n      if (!this.licenseNodeName) return\n      const response = await api.get(`/api/license/enabled/${this.licenseNodeName}`)\n      this.isLicensed = response?.result || false\n    },\n\n    /**\n     * PROP: manage-license-uri\n     * Fetches the URI for license management\n     */\n    async getManageLicenseUri() {\n      this.manageLicenseUri = await uris.translate(uris.list.subscriptions)\n    },\n  },\n}\n"],"mappings":";;AAAA;AACA,OAAOA,GAAG,MAAM,eAAe;AAC/B,OAAOC,IAAI,MAAM,aAAa;AAE9B,eAAe;EACbC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAEC,SAAS;MACrBC,gBAAgB,EAAED;IACpB,CAAC;EACH,CAAC;EACDE,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;IACnB,IAAI,CAACC,mBAAmB,CAAC,CAAC;EAC5B,CAAC;EACDC,OAAO,EAAE;IACP;AACJ;AACA;AACA;IACUF,YAAY,WAAZA,YAAYA,CAAA,EAAG;MAAA,IAAAG,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,IACdV,KAAI,CAACW,eAAe;gBAAAH,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAI,MAAA;YAAA;cAAAJ,QAAA,CAAAE,IAAA;cAAA,OACFpB,GAAG,CAACuB,GAAG,yBAAAC,MAAA,CAAyBd,KAAI,CAACW,eAAe,CAAE,CAAC;YAAA;cAAxEN,QAAQ,GAAAG,QAAA,CAAAO,IAAA;cACdf,KAAI,CAACP,UAAU,GAAG,CAAAY,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEW,MAAM,KAAI,KAAK;YAAA;YAAA;cAAA,OAAAR,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IAC7C,CAAC;IAED;AACJ;AACA;AACA;IACUN,mBAAmB,WAAnBA,mBAAmBA,CAAA,EAAG;MAAA,IAAAoB,MAAA;MAAA,OAAAjB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAgB,SAAA;QAAA,OAAAjB,mBAAA,GAAAI,IAAA,UAAAc,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAZ,IAAA,GAAAY,SAAA,CAAAX,IAAA;YAAA;cAAAW,SAAA,CAAAX,IAAA;cAAA,OACInB,IAAI,CAAC+B,SAAS,CAAC/B,IAAI,CAACgC,IAAI,CAACC,aAAa,CAAC;YAAA;cAArEN,MAAI,CAACvB,gBAAgB,GAAA0B,SAAA,CAAAN,IAAA;YAAA;YAAA;cAAA,OAAAM,SAAA,CAAAJ,IAAA;UAAA;QAAA,GAAAE,QAAA;MAAA;IACvB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}