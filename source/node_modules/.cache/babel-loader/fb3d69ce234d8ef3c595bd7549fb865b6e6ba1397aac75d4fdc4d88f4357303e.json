{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Login from '@/views/Login.vue';\nimport Home from '@/views/Home.vue';\nimport Component from '@/views/Component.vue';\n// import Setupwizard from '@/Setup_wizard/Setupwizard.vue'\nimport SetupMain from '@/Setup_wizard/SetupMain.vue';\nVue.use(VueRouter);\nvar routes = [{\n  path: '/',\n  name: 'home',\n  component: Home\n}, {\n  path: '/login',\n  name: 'login',\n  component: Login\n}, {\n  path: '/:componentName',\n  name: 'component',\n  component: Component\n}, {\n  path: '/setupwizard',\n  name: 'setupwizard',\n  // component: Setupwizard,\n  component: SetupMain\n}];\nvar router = new VueRouter({\n  mode: 'history',\n  base: '/vue/',\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.name === 'login' || to.name === 'setupwizard') {\n    return next();\n  }\n  if (!window.rpc) {\n    try {\n      window.rpc = {};\n      window.rpc.setup = new window.JSONRpcClient('/setup/JSON-RPC').SetupContext;\n      // window.setup = window.rpc.SetupContext\n      // console.log('window.rpc.setup', window.rpc.setup)\n      window.rpc.setup.getSetupWizardStartupInfo(function (result) {\n        // console.log('result', result)\n        window.setupWizardData = result;\n      });\n      // console.log('window.setupWizardData', window.setupWizardData)\n\n      if (window.rpc) {\n        var startUpInfo = window.rpc.UvmContext.getWebuiStartupInfo();\n        Object.assign(window.rpc, startUpInfo);\n        if (to.name === 'login') next({\n          name: 'home'\n        });else next();\n      }\n    } catch (ex) {\n      if (to.name !== 'login') next({\n        name: 'login'\n      });else next();\n      if (to.name !== 'setupwizard') next({\n        name: 'setupwizard'\n      });else next();\n    }\n  } else if (to.name === 'login') next({\n    name: 'home'\n  });else next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Login","Home","Component","SetupMain","use","routes","path","name","component","router","mode","base","beforeEach","to","from","next","window","rpc","setup","JSONRpcClient","SetupContext","getSetupWizardStartupInfo","result","setupWizardData","startUpInfo","UvmContext","getWebuiStartupInfo","Object","assign","ex"],"sources":["/home/shubham/Desktop/ngfw_pkgs/untangle-vue-ui/source/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Login from '@/views/Login.vue'\nimport Home from '@/views/Home.vue'\nimport Component from '@/views/Component.vue'\n// import Setupwizard from '@/Setup_wizard/Setupwizard.vue'\nimport SetupMain from '@/Setup_wizard/SetupMain.vue'\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home,\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: Login,\n  },\n\n  {\n    path: '/:componentName',\n    name: 'component',\n    component: Component,\n  },\n  {\n    path: '/setupwizard',\n    name: 'setupwizard',\n    // component: Setupwizard,\n    component: SetupMain,\n  },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: '/vue/',\n  routes,\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.name === 'login' || to.name === 'setupwizard') {\n    return next()\n  }\n  if (!window.rpc) {\n    try {\n      window.rpc = {}\n      window.rpc.setup = new window.JSONRpcClient('/setup/JSON-RPC').SetupContext\n      // window.setup = window.rpc.SetupContext\n      // console.log('window.rpc.setup', window.rpc.setup)\n      window.rpc.setup.getSetupWizardStartupInfo(function (result) {\n        // console.log('result', result)\n        window.setupWizardData = result\n      })\n      // console.log('window.setupWizardData', window.setupWizardData)\n\n      if (window.rpc) {\n        const startUpInfo = window.rpc.UvmContext.getWebuiStartupInfo()\n        Object.assign(window.rpc, startUpInfo)\n        if (to.name === 'login') next({ name: 'home' })\n        else next()\n      }\n    } catch (ex) {\n      if (to.name !== 'login') next({ name: 'login' })\n      else next()\n      if (to.name !== 'setupwizard') next({ name: 'setupwizard' })\n      else next()\n    }\n  } else if (to.name === 'login') next({ name: 'home' })\n  else next()\n})\n\nexport default router\n"],"mappings":";AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,IAAI,MAAM,kBAAkB;AACnC,OAAOC,SAAS,MAAM,uBAAuB;AAC7C;AACA,OAAOC,SAAS,MAAM,8BAA8B;AACpDL,GAAG,CAACM,GAAG,CAACL,SAAS,CAAC;AAElB,IAAMM,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEP;AACb,CAAC,EACD;EACEK,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAER;AACb,CAAC,EAED;EACEM,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEN;AACb,CAAC,EACD;EACEI,IAAI,EAAE,cAAc;EACpBC,IAAI,EAAE,aAAa;EACnB;EACAC,SAAS,EAAEL;AACb,CAAC,CACF;AAED,IAAMM,MAAM,GAAG,IAAIV,SAAS,CAAC;EAC3BW,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,OAAO;EACbN,MAAM,EAANA;AACF,CAAC,CAAC;AAEFI,MAAM,CAACG,UAAU,CAAC,UAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAK;EACpC,IAAIF,EAAE,CAACN,IAAI,KAAK,OAAO,IAAIM,EAAE,CAACN,IAAI,KAAK,aAAa,EAAE;IACpD,OAAOQ,IAAI,CAAC,CAAC;EACf;EACA,IAAI,CAACC,MAAM,CAACC,GAAG,EAAE;IACf,IAAI;MACFD,MAAM,CAACC,GAAG,GAAG,CAAC,CAAC;MACfD,MAAM,CAACC,GAAG,CAACC,KAAK,GAAG,IAAIF,MAAM,CAACG,aAAa,CAAC,iBAAiB,CAAC,CAACC,YAAY;MAC3E;MACA;MACAJ,MAAM,CAACC,GAAG,CAACC,KAAK,CAACG,yBAAyB,CAAC,UAAUC,MAAM,EAAE;QAC3D;QACAN,MAAM,CAACO,eAAe,GAAGD,MAAM;MACjC,CAAC,CAAC;MACF;;MAEA,IAAIN,MAAM,CAACC,GAAG,EAAE;QACd,IAAMO,WAAW,GAAGR,MAAM,CAACC,GAAG,CAACQ,UAAU,CAACC,mBAAmB,CAAC,CAAC;QAC/DC,MAAM,CAACC,MAAM,CAACZ,MAAM,CAACC,GAAG,EAAEO,WAAW,CAAC;QACtC,IAAIX,EAAE,CAACN,IAAI,KAAK,OAAO,EAAEQ,IAAI,CAAC;UAAER,IAAI,EAAE;QAAO,CAAC,CAAC,MAC1CQ,IAAI,CAAC,CAAC;MACb;IACF,CAAC,CAAC,OAAOc,EAAE,EAAE;MACX,IAAIhB,EAAE,CAACN,IAAI,KAAK,OAAO,EAAEQ,IAAI,CAAC;QAAER,IAAI,EAAE;MAAQ,CAAC,CAAC,MAC3CQ,IAAI,CAAC,CAAC;MACX,IAAIF,EAAE,CAACN,IAAI,KAAK,aAAa,EAAEQ,IAAI,CAAC;QAAER,IAAI,EAAE;MAAc,CAAC,CAAC,MACvDQ,IAAI,CAAC,CAAC;IACb;EACF,CAAC,MAAM,IAAIF,EAAE,CAACN,IAAI,KAAK,OAAO,EAAEQ,IAAI,CAAC;IAAER,IAAI,EAAE;EAAO,CAAC,CAAC,MACjDQ,IAAI,CAAC,CAAC;AACb,CAAC,CAAC;AAEF,eAAeN,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}