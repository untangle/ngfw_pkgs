{"ast":null,"code":"import { VCard, VRow, VCol, VDivider, VListItem, VListItemContent, VListItemTitle, VListItemSubtitle, VCheckbox, VVirtualScroll, VContainer, VSpacer, VSwitch, VSlider } from 'vuetify/lib';\nimport { ValidationProvider } from 'vee-validate';\nimport settingsMixin from '../../settingsMixin';\nimport InvalidSettings from '../../InvalidSettings/Main.vue';\nimport defaults from '../defaults';\nimport schema from '../schema';\nexport default {\n  components: {\n    VSwitch: VSwitch,\n    VSlider: VSlider,\n    VSpacer: VSpacer,\n    VContainer: VContainer,\n    VCard: VCard,\n    VRow: VRow,\n    VCol: VCol,\n    VDivider: VDivider,\n    VListItem: VListItem,\n    VListItemContent: VListItemContent,\n    VListItemTitle: VListItemTitle,\n    VListItemSubtitle: VListItemSubtitle,\n    VCheckbox: VCheckbox,\n    VVirtualScroll: VVirtualScroll,\n    InvalidSettings: InvalidSettings,\n    ValidationProvider: ValidationProvider\n  },\n  mixins: [settingsMixin],\n  defaults: defaults,\n  schema: schema,\n  props: {\n    caps: {\n      type: Array,\n      \"default\": function _default() {\n        return null;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      isSelecting: false,\n      maxFileSize: 2097152,\n      fileSizeExceeded: false,\n      timeoutData: [{\n        value: 'd',\n        name: 'Days'\n      }, {\n        value: 'h',\n        name: 'Hours'\n      }, {\n        value: 'm',\n        name: 'Minutes'\n      }]\n    };\n  },\n  methods: {\n    removeImage: function removeImage() {\n      this.settings.logo.imageData = '';\n    },\n    handleFileImport: function handleFileImport() {\n      var _this = this;\n      this.isSelecting = true;\n      window.addEventListener('focus', function () {\n        _this.isSelecting = false;\n      }, {\n        once: true\n      });\n      this.$refs.uploader.click();\n    },\n    onChange: function onChange(e) {\n      var file = e.target.files[0];\n      if (file) {\n        if (file.size > this.maxFileSize) {\n          this.fileSizeExceeded = true;\n          return; // do not process the file if it exceeds the size limit\n        }\n        this.fileSizeExceeded = false;\n        this.createBase64Image(file);\n      }\n    },\n    createBase64Image: function createBase64Image(fileO) {\n      var _this2 = this;\n      var reader = new FileReader();\n      reader.onloadend = function (e) {\n        _this2.settings.logo.imageData = e.target.result;\n      };\n      reader.readAsDataURL(fileO);\n    }\n  }\n};","map":{"version":3,"names":["VCard","VRow","VCol","VDivider","VListItem","VListItemContent","VListItemTitle","VListItemSubtitle","VCheckbox","VVirtualScroll","VContainer","VSpacer","VSwitch","VSlider","ValidationProvider","settingsMixin","InvalidSettings","defaults","schema","components","mixins","props","caps","type","Array","default","data","isSelecting","maxFileSize","fileSizeExceeded","timeoutData","value","name","methods","removeImage","settings","logo","imageData","handleFileImport","_this","window","addEventListener","once","$refs","uploader","click","onChange","e","file","target","files","size","createBase64Image","fileO","_this2","reader","FileReader","onloadend","result","readAsDataURL"],"sources":["node_modules/vuntangle/src/shared/SettingsCaptivePortal/components/TabCaps.vue"],"sourcesContent":["<template>\n  <div class=\"cp-settings--full\">\n    <v-card>\n      <v-row dense class=\"pa-2 cp-settings--full\" style=\"flex-grow: 0\">\n        <div :is=\"!$slots['extra-fields'] ? 'div' : 'u-section'\">\n          <!-- settings.logo may be undefined in some circumstances while fetching data on cloud etm -->\n          <template v-if=\"settings.logo\">\n            <u-btn\n              :disabled=\"!settings.enabled\"\n              color=\"primary\"\n              class=\"mr-2\"\n              :loading=\"isSelecting\"\n              :label=\"$t('logo')\"\n              @click=\"handleFileImport\"\n            >\n              {{ settings.logo.imageData ? $t('update_logo') : $t('add_logo') }}\n            </u-btn>\n            <p></p>\n            <p v-if=\"fileSizeExceeded\" style=\"color: #d30000\">{{ $t('file_upload_max_size') }}</p>\n            <input\n              ref=\"uploader\"\n              class=\"d-none\"\n              type=\"file\"\n              accept=\"image/*\"\n              :disabled=\"!settings.enabled\"\n              @change=\"onChange\"\n            />\n            <div>\n              <div v-if=\"settings.logo.imageData\" class=\"image-container\">\n                <img\n                  :disabled=\"!settings.enabled\"\n                  :src=\"settings.logo.imageData\"\n                  data-testid=\"captive-portal-img\"\n                  style=\"width: 200px; max-width: 200px; max-height: 200px\"\n                />\n                <button class=\"cross-button\" @click=\"removeImage\">âœ–</button>\n              </div>\n              <div\n                v-else\n                style=\"width: 200px; height: 100px; border: 1px solid #000; text-align: center; line-height: 90px\"\n              >\n                {{ $t('your_logo_here') }}\n              </div>\n            </div>\n          </template>\n          <p></p>\n          <div class=\"body-2 mb-4\">\n            <ValidationProvider v-slot=\"{ errors }\" rules=\"required\">\n              <u-text-field\n                v-model=\"settings.pageTitle\"\n                :disabled=\"!settings.enabled\"\n                :label=\"$t('page_title')\"\n                outlined\n              >\n                <template v-if=\"errors.length\" #append><u-errors-tooltip :errors=\"errors\" /></template>\n              </u-text-field>\n            </ValidationProvider>\n          </div>\n          <div class=\"body-2 mb-4\">\n            <u-text-field\n              v-model=\"settings.welcomeText\"\n              :disabled=\"!settings.enabled\"\n              :label=\"$t('welcome_text')\"\n              outlined\n            ></u-text-field>\n          </div>\n          <div class=\"body-2 mb-4\">\n            <u-text-field\n              v-model=\"settings.messageHeading\"\n              :disabled=\"!settings.enabled\"\n              :label=\"$t('message_heading')\"\n              outlined\n            ></u-text-field>\n          </div>\n          <div class=\"body-2 mb-4\">\n            <v-textarea\n              v-model=\"settings.messageText\"\n              :disabled=\"!settings.enabled\"\n              :label=\"$t('message_text')\"\n              outlined\n            ></v-textarea>\n          </div>\n          <div class=\"body-2 mb-4\">\n            <u-text-field\n              v-model=\"settings.acceptText\"\n              :disabled=\"!settings.enabled\"\n              :label=\"$t('accept_text')\"\n              outlined\n            ></u-text-field>\n          </div>\n          <div class=\"body-2 mb-4\">\n            <ValidationProvider v-slot=\"{ errors }\" rules=\"required\">\n              <u-text-field\n                v-model=\"settings.acceptButtonText\"\n                :disabled=\"!settings.enabled\"\n                :label=\"$t('accept_button_text')\"\n                outlined\n              >\n                <template v-if=\"errors.length\" #append><u-errors-tooltip :errors=\"errors\" /></template>\n              </u-text-field>\n            </ValidationProvider>\n          </div>\n          <div class=\"body-2 mb-4u-select d-flex flex-row\">\n            <u-text-field\n              v-model.number=\"settings.timeoutValue\"\n              type=\"number\"\n              min=\"1\"\n              :disabled=\"!settings.enabled\"\n              :label=\"$t('timeout')\"\n              class=\"mr-1 body-2 mb-4\"\n            >\n            </u-text-field>\n            <p></p>\n            <!-- DAY HOUR MINUTE -->\n            <u-select\n              v-model=\"settings.timeoutPeriod\"\n              :disabled=\"!settings.enabled\"\n              :items=\"timeoutData\"\n              :label=\"$tc('Timeout Period', 1)\"\n            >\n              <template #selection=\"{ item }\">{{ $vuntangle.$t(item.name) }}</template>\n              <template #item=\"{ item }\">{{ $vuntangle.$t(item.name) }}</template>\n            </u-select>\n            <select v-model=\"settings.timeoutPeriod\" :disabled=\"!settings.enabled\"></select>\n          </div>\n        </div>\n      </v-row>\n    </v-card>\n  </div>\n</template>\n<script>\n  import {\n    VCard,\n    VRow,\n    VCol,\n    VDivider,\n    VListItem,\n    VListItemContent,\n    VListItemTitle,\n    VListItemSubtitle,\n    VCheckbox,\n    VVirtualScroll,\n    VContainer,\n    VSpacer,\n    VSwitch,\n    VSlider,\n  } from 'vuetify/lib'\n  import { ValidationProvider } from 'vee-validate'\n  import settingsMixin from '../../settingsMixin'\n  import InvalidSettings from '../../InvalidSettings/Main.vue'\n  import defaults from '../defaults'\n  import schema from '../schema'\n\n  export default {\n    components: {\n      VSwitch,\n      VSlider,\n      VSpacer,\n      VContainer,\n      VCard,\n      VRow,\n      VCol,\n      VDivider,\n      VListItem,\n      VListItemContent,\n      VListItemTitle,\n      VListItemSubtitle,\n      VCheckbox,\n      VVirtualScroll,\n      InvalidSettings,\n      ValidationProvider,\n    },\n    mixins: [settingsMixin],\n    defaults,\n    schema,\n    props: {\n      caps: { type: Array, default: () => null },\n    },\n\n    data() {\n      return {\n        isSelecting: false,\n        maxFileSize: 2097152,\n        fileSizeExceeded: false,\n        timeoutData: [\n          { value: 'd', name: 'Days' },\n          { value: 'h', name: 'Hours' },\n          { value: 'm', name: 'Minutes' },\n        ],\n      }\n    },\n\n    methods: {\n      removeImage() {\n        this.settings.logo.imageData = ''\n      },\n      handleFileImport() {\n        this.isSelecting = true\n        window.addEventListener(\n          'focus',\n          () => {\n            this.isSelecting = false\n          },\n          { once: true },\n        )\n        this.$refs.uploader.click()\n      },\n\n      onChange(e) {\n        const file = e.target.files[0]\n        if (file) {\n          if (file.size > this.maxFileSize) {\n            this.fileSizeExceeded = true\n            return // do not process the file if it exceeds the size limit\n          }\n          this.fileSizeExceeded = false\n          this.createBase64Image(file)\n        }\n      },\n\n      createBase64Image(fileO) {\n        const reader = new FileReader()\n        reader.onloadend = e => {\n          this.settings.logo.imageData = e.target.result\n        }\n        reader.readAsDataURL(fileO)\n      },\n    },\n  }\n</script>\n<style scoped>\n  .cp-settings--full {\n    display: flex;\n    flex-direction: column;\n    flex: 0;\n  }\n  .image-container {\n    position: relative;\n    display: inline-block;\n  }\n  .cross-button {\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    cursor: pointer;\n    background: red;\n    color: white;\n    border: none;\n    font-size: 20px;\n  }\n</style>\n"],"mappings":"AAmIA,SACAA,KAAA,EACAC,IAAA,EACAC,IAAA,EACAC,QAAA,EACAC,SAAA,EACAC,gBAAA,EACAC,cAAA,EACAC,iBAAA,EACAC,SAAA,EACAC,cAAA,EACAC,UAAA,EACAC,OAAA,EACAC,OAAA,EACAC,OAAA,QACA;AACA,SAAAC,kBAAA;AACA,OAAAC,aAAA;AACA,OAAAC,eAAA;AACA,OAAAC,QAAA;AACA,OAAAC,MAAA;AAEA;EACAC,UAAA;IACAP,OAAA,EAAAA,OAAA;IACAC,OAAA,EAAAA,OAAA;IACAF,OAAA,EAAAA,OAAA;IACAD,UAAA,EAAAA,UAAA;IACAV,KAAA,EAAAA,KAAA;IACAC,IAAA,EAAAA,IAAA;IACAC,IAAA,EAAAA,IAAA;IACAC,QAAA,EAAAA,QAAA;IACAC,SAAA,EAAAA,SAAA;IACAC,gBAAA,EAAAA,gBAAA;IACAC,cAAA,EAAAA,cAAA;IACAC,iBAAA,EAAAA,iBAAA;IACAC,SAAA,EAAAA,SAAA;IACAC,cAAA,EAAAA,cAAA;IACAO,eAAA,EAAAA,eAAA;IACAF,kBAAA,EAAAA;EACA;EACAM,MAAA,GAAAL,aAAA;EACAE,QAAA,EAAAA,QAAA;EACAC,MAAA,EAAAA,MAAA;EACAG,KAAA;IACAC,IAAA;MAAAC,IAAA,EAAAC,KAAA;MAAA,oBAAAC,SAAA;QAAA;MAAA;IAAA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MACAC,WAAA;MACAC,gBAAA;MACAC,WAAA,GACA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,IAAA;MAAA;IAEA;EACA;EAEAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,QAAA,CAAAC,IAAA,CAAAC,SAAA;IACA;IACAC,gBAAA,WAAAA,iBAAA;MAAA,IAAAC,KAAA;MACA,KAAAZ,WAAA;MACAa,MAAA,CAAAC,gBAAA,CACA,SACA;QACAF,KAAA,CAAAZ,WAAA;MACA,GACA;QAAAe,IAAA;MAAA,CACA;MACA,KAAAC,KAAA,CAAAC,QAAA,CAAAC,KAAA;IACA;IAEAC,QAAA,WAAAA,SAAAC,CAAA;MACA,IAAAC,IAAA,GAAAD,CAAA,CAAAE,MAAA,CAAAC,KAAA;MACA,IAAAF,IAAA;QACA,IAAAA,IAAA,CAAAG,IAAA,QAAAvB,WAAA;UACA,KAAAC,gBAAA;UACA;QACA;QACA,KAAAA,gBAAA;QACA,KAAAuB,iBAAA,CAAAJ,IAAA;MACA;IACA;IAEAI,iBAAA,WAAAA,kBAAAC,KAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,MAAA,OAAAC,UAAA;MACAD,MAAA,CAAAE,SAAA,aAAAV,CAAA;QACAO,MAAA,CAAAnB,QAAA,CAAAC,IAAA,CAAAC,SAAA,GAAAU,CAAA,CAAAE,MAAA,CAAAS,MAAA;MACA;MACAH,MAAA,CAAAI,aAAA,CAAAN,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}